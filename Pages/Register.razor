@page "/register"
@using System.ComponentModel.DataAnnotations

<div class="container d-flex justify-content-center align-items-center" style="min-height: 100vh;">
    <div class="card shadow-lg p-4" style="max-width: 600px; width: 100%;">
        <h3 class="text-center mb-4 text-primary">Create Your Account</h3>

        <EditForm Model="@registerModel" OnValidSubmit="HandleRegister">
            <DataAnnotationsValidator />
            <ValidationSummary />

            <div class="row g-3">
                <div class="col-md-6">
                    <label class="form-label">First Name</label>
                    <InputText @bind-Value="registerModel.FirstName" class="form-control" />
                </div>

                <div class="col-md-6">
                    <label class="form-label">Last Name</label>
                    <InputText @bind-Value="registerModel.LastName" class="form-control" />
                </div>

                <div class="col-md-6">
                    <label class="form-label">Gender</label>
                    <InputSelect @bind-Value="registerModel.Gender" class="form-select">
                        <option disabled value="">-- Select Gender --</option>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                    </InputSelect>
                </div>

                <div class="col-md-6">
                    <label class="form-label">Date of Birth</label>
                    <InputDate @bind-Value="registerModel.DateOfBirth" class="form-control" />
                </div>

                <div class="col-md-6">
                    <label class="form-label">Email</label>
                    <InputText @bind-Value="registerModel.Email" type="email" class="form-control" />
                </div>

                <div class="col-md-6">
                    <label class="form-label">Password</label>
                    <InputText @bind-Value="registerModel.Password" type="password" class="form-control" />
                </div>

                <div class="col-md-12">
                    <label class="form-label">Role</label>
                    <InputSelect @bind-Value="registerModel.Role" class="form-select">
                        <option disabled value="">-- Select Role --</option>
                        <option value="Trainee">Trainee</option>
                        <option value="Coach">Coach</option>
                    </InputSelect>
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100 mt-4">Sign Up</button>

            <div class="mt-3 text-center">
                <small>Already have an account? <a href="/login">Login</a></small>
            </div>
        </EditForm>
    </div>
</div>

@code {
    private RegisterModel registerModel = new();

    private void HandleRegister()
    {
        // Handle registration logic
        Console.WriteLine($"Registering {registerModel.FirstName} {registerModel.LastName} as {registerModel.Role}");
    }

    public class RegisterModel
    {
        [Required]
        public string? FirstName { get; set; }

        [Required]
        public string? LastName { get; set; }

        [Required]
        public string? Gender { get; set; }

        [Required]
        public DateTime? DateOfBirth { get; set; }

        [Required, EmailAddress]
        public string? Email { get; set; }

        [Required]
        public string? Password { get; set; }

        [Required]
        public string? Role { get; set; }
    }
}
